<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Caykhe Store</title>
<style>
body{margin:0;font-family:Arial;background:linear-gradient(120deg,#b30000,#ff4d4d);color:#fff}
header{background:#8b0000;padding:15px;text-align:center}
.container{max-width:1000px;margin:auto;padding:20px}
.card{background:#fff;color:#000;border-radius:10px;padding:15px;margin-bottom:15px}
button{padding:8px 14px;border:0;border-radius:6px;background:#c40000;color:#fff;cursor:pointer}
button:hover{opacity:.85}
input,select{width:100%;padding:6px;margin:5px 0}
.hidden{display:none}
.acc{background:#f2f2f2;border-radius:8px;padding:10px}
.badge{padding:3px 8px;border-radius:6px;font-size:12px}
.ok{background:#4caf50;color:#fff}
.no{background:#f44336;color:#fff}
</style>
</head>

<body>
<header>
  <h1>ğŸ† Caykhe Store ğŸ†</h1>
  <p>Shop Acc Minecraft â€“ KhÃ´ng khÃ­ Táº¿t</p>
</header>

<div class="container">

<!-- LOGIN -->
<div class="card" id="loginBox">
  <h3>ÄÄƒng nháº­p</h3>
  <input id="username" placeholder="TÃªn ngÆ°á»i dÃ¹ng">
  <button onclick="login()">VÃ o shop</button>
  <p>NgÆ°á»i má»›i +10.000Ä‘</p>
</div>

<!-- USER -->
<div class="card hidden" id="userBox">
  <p>ğŸ‘¤ <b id="u"></b></p>
  <p>ğŸ’° Sá»‘ dÆ°: <b id="money"></b> Ä‘</p>
</div>

<!-- Náº P THáºº -->
<div class="card hidden">
  <h3>ğŸ’³ Náº¡p tháº»</h3>
  <select id="loai">
    <option>Viettel</option>
    <option>Mobifone</option>
    <option>Vinaphone</option>
  </select>
  <select id="menhgia">
    <option value="10000">10.000</option>
    <option value="20000">20.000</option>
    <option value="50000">50.000</option>
  </select>
  <input id="seri" placeholder="Seri">
  <input id="code" placeholder="MÃ£ tháº»">
  <button onclick="nap()">Náº¡p</button>
</div>

<!-- SHOP -->
<div class="card hidden">
  <h3>ğŸ›’ Acc Minecraft</h3>

  <h4>NFA</h4>
  <p>
    10kâ€“30k <span class="badge no">KhÃ´ng cÃ³</span><br>
    40kâ€“50k <span class="badge ok">CÃ³ hÃ ng</span>
  </p>
  <button onclick="muaNFA()">Äáº·t mua NFA</button>
  <p><i>NFA free: <a href="https://discord.gg/e6Tvxw49" target="_blank">Discord Caykhe</a></i></p>

  <hr>

  <h4>MFA</h4>
  <p><span class="badge no">Háº¿t hÃ ng</span></p>
</div>

<!-- ACC INFO -->
<div class="card hidden" id="accBox">
  <h3>ğŸ ThÃ´ng tin tÃ i khoáº£n</h3>
  <div class="acc">
    Gmail: <b id="accMail"></b><br>
    Máº­t kháº©u: <b id="accPass"></b>
  </div>
</div>

<!-- ADMIN -->
<div class="card hidden" id="adminBox">
  <h3>ğŸ‘‘ ADMIN PANEL</h3>
  <p id="notify"></p>

  <h4>â• Stock acc NFA</h4>
  <input id="aMail" placeholder="Gmail acc">
  <input id="aPass" placeholder="Máº­t kháº©u">
  <select id="aPrice">
    <option value="40000">40k</option>
    <option value="50000">50k</option>
  </select>
  <button onclick="addAcc()">ThÃªm acc</button>

  <h4>ğŸ“¦ Kho acc</h4>
  <ul id="stockList"></ul>

  <h4>ğŸ“œ ÄÆ¡n hÃ ng</h4>
  <ul id="orderList"></ul>
</div>

</div>

<script>
let user="", money=0;

// ===== DATA =====
let usedCards = JSON.parse(localStorage.getItem("usedCards")||"[]");
let stock = JSON.parse(localStorage.getItem("stock")||"[]");
let orders = JSON.parse(localStorage.getItem("orders")||"[]");

// khá»Ÿi táº¡o sáºµn 1 acc NFA náº¿u kho trá»‘ng
if(stock.length===0){
  stock.push({
    email:"quicktips.mp02@gmail.com",
    pass:"Mypham1986@",
    price:40000,
    sold:false
  });
  localStorage.setItem("stock",JSON.stringify(stock));
}

function save(){
  localStorage.setItem("money_"+user,money);
  localStorage.setItem("usedCards",JSON.stringify(usedCards));
  localStorage.setItem("stock",JSON.stringify(stock));
  localStorage.setItem("orders",JSON.stringify(orders));
}

function login(){
  user=username.value;
  if(!user) return alert("Nháº­p tÃªn");
  money=parseInt(localStorage.getItem("money_"+user)||"10000");
  loginBox.classList.add("hidden");
  document.querySelectorAll(".hidden").forEach(e=>e.classList.remove("hidden"));
  u.innerText=user;
  update();

  if(user==="admin"){
    adminBox.classList.remove("hidden");
    renderAdmin();
    if(orders.length>0){
      notify.innerText="ğŸ“¢ CÃ³ "+orders.length+" Ä‘Æ¡n hÃ ng!";
    }
  }
}

function update(){ moneyEl.innerText=money }
const moneyEl=document.getElementById("money");

function nap(){
  if(!seri.value||!code.value) return alert("Nháº­p Ä‘á»§");
  const key=loai.value+"-"+seri.value+"-"+code.value;
  if(usedCards.includes(key)) return alert("Tháº» Ä‘Ã£ dÃ¹ng");
  usedCards.push(key);
  money+=parseInt(menhgia.value);
  save(); update();
  alert("Náº¡p thÃ nh cÃ´ng (demo)");
}

function muaNFA(){
  let gia=parseInt(prompt("Nháº­p giÃ¡ NFA (40000â€“50000)"));
  if(gia<40000||gia>50000) return alert("GiÃ¡ nÃ y khÃ´ng cÃ³ hÃ ng");
  if(money<gia) return alert("KhÃ´ng Ä‘á»§ tiá»n");

  let acc=stock.find(a=>!a.sold && a.price===gia);
  if(!acc) return alert("Háº¿t acc");

  money-=gia;
  acc.sold=true;

  orders.push({
    buyer:user,
    price:gia,
    time:new Date().toLocaleString()
  });

  save(); update();
  accMail.innerText=acc.email;
  accPass.innerText=acc.pass;
  accBox.classList.remove("hidden");
  alert("Mua thÃ nh cÃ´ng!");
}

// ===== ADMIN =====
function addAcc(){
  if(!aMail.value||!aPass.value) return alert("Nháº­p Ä‘á»§");
  stock.push({
    email:aMail.value,
    pass:aPass.value,
    price:parseInt(aPrice.value),
    sold:false
  });
  save(); renderAdmin();
  alert("ÄÃ£ thÃªm acc");
}

function renderAdmin(){
  stockList.innerHTML="";
  stock.forEach(a=>{
    stockList.innerHTML+=`<li>${a.email} | ${a.price}Ä‘ | ${a.sold?"âŒ ÄÃ£ bÃ¡n":"âœ” CÃ²n"}</li>`;
  });

  orderList.innerHTML="";
  orders.forEach(o=>{
    orderList.innerHTML+=`<li>${o.buyer} mua ${o.price}Ä‘ (${o.time})</li>`;
  });
}
</script>

</body>
</html>
